prg_comment = ""
prg_version = "0.5.1"
def program(prg, cmd):
    prg.add(-3040000, "AOM Repumper Amp", 1000)
    prg.add(-3030000, "AOM Repumper freq", 225.00)
    prg.add(-3025000, "Shutter RepumperMOT ON")
    prg.add(-3022500, "AOM Probe Amp ch2 (-)", 1)
    prg.add(-3020000, "AOM Probe Amp ch1 (+)", 1)
    prg.add(-3013000, "Shutter Probe ON")
    prg.add(-5000, "IGBT BCompY field CLOSE", enable=False)
    prg.add(-4500, "DAC BCompY", 0.5000, enable=False)
    prg.add(-3000, "AOM Probe Detuning", 0.000, enable=False)
    prg.add(-2600, "IGBT BCompY field OPEN", enable=False)
    prg.add(-2200, "AOM DS + RepumperMOT Amp ", 1000, enable=False)
    prg.add(-2000, "AOM DS + RepumperMOT Freq", 408.00, enable=False)
    prg.add(-1700, "TTL Repumper MOT  ON", enable=False)
    prg.add(1230, "Oscilloscope Trigger ON")
    prg.add(10000, "uW ON", functions=dict(time=lambda x: x - cmd.get_var('pulse')))
    prg.add(10000, "uW OFF")
    prg.add(11000, "DAC BCompZ", 0.3120)
    prg.add(99800, "AOM DS + RepumperMOT Amp ", 1, enable=False)
    prg.add(100750, "TTL Picture  ON")
    prg.add(101150, "AOM Probe Amp ch1 (+)", 1000)
    prg.add(101550, "AOM Probe Amp ch2 (-)", 550)
    prg.add(103050, "AOM Probe Amp ch2 (-)", 1)
    prg.add(103450, "AOM Probe Amp ch1 (+)", 1)
    prg.add(103850, "TTL Picture OFF")
    prg.add(851850, "Shutter Probe OFF")
    prg.add(1110750, "TTL Picture  ON")
    prg.add(1111150, "AOM Probe Amp ch1 (+)", 1000)
    prg.add(1111550, "AOM Probe Amp ch2 (-)", 1000)
    prg.add(1112550, "AOM Probe Amp ch2 (-)", 1)
    prg.add(1112950, "AOM Probe Amp ch1 (+)", 1)
    prg.add(1113350, "TTL Picture OFF")
    prg.add(1121350, "TTL Repumper MOT OFF")
    prg.add(2110850, "TTL Picture  ON")
    prg.add(2113650, "TTL Picture OFF")
    prg.add(2930000, "Oscilloscope Trigger OFF")
    prg.add(3111650, "TTL Picture  ON")
    prg.add(3114450, "TTL Picture OFF")
    prg.add(3121550, "IGBT BCompY field OPEN")
    return prg
