prg_comment = ""
prg_version = "0.5.1"
def program(prg, cmd):
    prg.add(0, "Initialize 0 TTL and Synchronize.sub")
    prg.add(50000, "switch off MOT ")
    prg.add(60000, "RF Evaporation", 0, enable=False)
    prg.add(5060000, "Set MOT")
    prg.add(5180000, "DAC Magnetic Trap current", 10.0000)
    prg.add(5180500, "DAC Magnetic Trap Voltage", 6.5000)
    prg.add(5181000, "DAC Horiz IR", 5.4000)
    prg.add(5181500, "DAC Vert IR", 1.0000)
    prg.add(5182000, "AOM IR Horizontal freq", 80.00)
    prg.add(5182500, "AOM IR Vertical freq", 80.00, enable=False)
    prg.add(135082000, "Bright_Compressed_MOT", enable=False)
    prg.add(135089500, "switch off MOT fast")
    prg.add(135090000, "switch off MOT _ Depumper ", enable=False)
    prg.add(135092849, "GM BrokenRamp_Short")
    prg.add(135142849, "Config Field MT")
    prg.add(135142849, "DAC BCompZ", 0.2400, enable=False)
    prg.add(135142849, "BCompZ current ramp", start_t=0, stop_x=1.3, n_points=50, start_x=0.24, stop_t=500, enable=False)
    prg.add(135342849, "Evaporation Ramp.sub")
    prg.add(235342849, "[VOID] End Evaporation")
    prg.add(235343349, "AOM IR Vertical freq", 81.50, enable=False)
    prg.add(235343849, "DAC Vert IR", 5.0000)
    prg.add(235344849, "DAC BCompZ", 0.2400)
    prg.add(235350349, "MT_FastTransfer_to_Dipole10A")
    prg.add(238352349, "AOM IR Vertical freq", 120.00)
    prg.add(239351349, "Horizontal Dipole Evaporation Ramp CMT10A_5.4V")
    prg.add(239351849, "Vertical Dipole Evaporation Ramp CMT10A_6V", enable=False)
    prg.add(271852349, "[VOID] End Evaporation")
    prg.add(271852849, "AOM IR Vertical freq", 80.00, enable=False)
    prg.add(271853349, "AOM IR Vertical freq", 120.00, enable=False)
    prg.add(271853849, "DAC IR Vertical ramp", start_t=0, stop_x=0.8, n_points=100, start_x=0.01, stop_t=100, enable=False)
    prg.add(271854349, "IGBT BCompY field CLOSE", enable=False)
    prg.add(271854849, "MT Current Ramp", start_t=0, stop_x=0.0, n_points=100, start_x=3.5, stop_t=150, enable=False)
    prg.add(271854849, "BCompY current ramp", start_t=0, stop_x=0.05, n_points=10, start_x=-0.1, stop_t=100, enable=False)
    prg.add(272854849, "Config field OFF")
    prg.add(272854849, "Picture MT to Levit at 0ms - Levit 30 ms", enable=False)
    prg.add(272854849, "Picture MT to Levit at 0ms - Levit 10 ms", enable=False)
    prg.add(272854849, "Picture MT to Levit at 0ms - Levit 50 ms", enable=False)
    prg.add(272854849, "Picture MT to Levit at 0ms - Levit variableTime", enable=False)
    prg.add(272857849, "DAC BCompZ", 0.2400, enable=False)
    prg.add(272860849, "Swich Off Dipole")
    prg.add(273060849, "Picture Na_Shortrepumper_offset")
    prg.add(273060849, "Picture Na_2Gdet_offset", enable=False)
    prg.add(273060849, "Picture Na_1Gdet_offset", enable=False)
    prg.add(273060849, "Picture Na_offset", enable=False)
    prg.add(273060849, "Picture Na_Shortrepumper_offset", enable=False)
    prg.add(273060849, "Picture Na_3Gdet_offset", enable=False)
    prg.add(273060849, "Picture Na_4Gdet_offset", enable=False)
    prg.add(278060849, "Initialize_Dipole_Off")
    prg.add(278065849, "Set MOT")
    return prg
def commands(cmd):
    import numpy as np
    iters = np.arange(0, 18000, 1000)
    j = 0
    while(cmd.running):
        dt1 = iters[j]
        cmd.set_var('dt', dt1)
        print('\n-------o-------')
        print('Run #%d/%d, with variables:\ndt = %g\n'%(j+1, len(iters), dt1))
        cmd.run(wait_end=True, add_time=750)
        j += 1
        if j == len(iters):
            cmd.stop()
    return cmd
